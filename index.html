<!DOCTYPE html>
<!--[if IE 9]>         <html class="ie9" lang="en"> <![endif]-->
<!--[if gt IE 9]><!--> <html lang="en"> <!--<![endif]-->

    <head>
        <meta charset="utf-8">

        <title>Kubernetes-Yaml-generator</title>

        <meta name="description" content="A kubernetes yaml generator">
        <meta name="author" content="Rene Schoonrok">
        <meta name="robots" content="">
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1.0">

        <!-- Favicons (just the basics for now, check out http://realfavicongenerator.net/ for all available) -->
        <link rel="shortcut icon" href="/img/favicon.png">
        <link rel="icon" type="image/png" href="/img/favicon.png" sizes="32x32">

        <!-- Web fonts -->
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:200,300,400,600,700&Open+Sans:300,400,600,700">

        <!-- Bootstrap and Ares CSS -->
        <link rel="stylesheet" href="bootstrap.min.css">
        <link rel="stylesheet" href="animate.min.css">
        <link rel="stylesheet" href="ares.css">
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/dracula.min.css">


    </head>
    <body>

        <!-- Page Container -->
        <!--
            Available Classes: 'modern-sf', 'vintage-sf', 'interstellar-sf'
        -->
        <div id="page-container" class="modern-sf">
            <!-- Header -->
            <header id="page-header">
                <!--    <div class="h3 text-right pull-right hidden-xs">
                       <div class="text-crystal font-w300">Transmitting</div>
                       <div class="text-success animated infinite pulse pull-right">[CONNECTED]</div>
                   </div>-->
                   <h1 class="h3 font-w200">
                       <span class="text-crystal">//</span> <a class="link-sf font-w300" href="https://github.com/reneschoonrok/">KUBERNETES-YAML-GENERATOR</a>
                   </h1>
                   <p>
                   <label for="box" id="lineid" style = "font-size:14px">Welcome - This site can help you with easily creating basic kubernetes yaml files  </label>
                   <label for="box" style = "font-size:14px">//There is zero to none functionality yet. </label>
                       <label for="box" style = "font-size:14px">But I will add more soon. </label>
               </p>


                   <script>
                       function sendToken() {
                           myauthtoken = document.getElementById('mytoken').value;
                       }
                   </script>




               </header>
               <!-- END Header -->

            <!-- Main Content -->
            <main id="page-main">
                <!-- Columns -->
                <div class="row">
                    <!-- Animated Circles Column -->
                    <div class="col-lg-6 col-lg-push-3 overflow-hidden push-20">
                                        <div class="circles push-50">


                                        <div class="row">

                                            <!-- <div class="col-xs-10 visibility-hidden" data-toggle="appear" data-class="animated fadeInLeft" data-timeout="100">
                                                 <button class="btn btn-xl btn-block btn-sf2 push-10" id="podinfodetail1">Select a pod to get details..</button>
                                             </div>-->
                                             <div class="col-xs-10 visibility-hidden" data-toggle="appear" data-class="animated fadeInLeft" data-timeout="100">
                                                 <button class="btn btn-xl btn-block btn-sf2 push-10" id="podinfodetail2"></button>
                                             </div>
                                             <div class="col-xs-10 visibility-hidden" data-toggle="appear" data-class="animated fadeInLeft" data-timeout="100">
                                                 <button class="btn btn-xl btn-block btn-sf2 push-10" id="podinfodetail3"></button>
                                             </div>
                                             <div class="col-xs-10 visibility-hidden" data-toggle="appear" data-class="animated fadeInLeft" data-timeout="100">
                                                 <button class="btn btn-xl btn-block btn-sf2 push-10" id="podinfodetail4"></button>
                                             </div>
                                             <div class="col-xs-5 visibility-hidden" data-toggle="appear" data-class="animated fadeInLeft" data-timeout="100">
                                                 <button class="btn btn-xl btn-block btn-sf2 push-10" id="podinfodetailx5"></button>
                                             </div>
                                             <div class="col-xs-3 visibility-hidden" data-toggle="appear" data-class="animated fadeInLeft" data-timeout="100">
                                                 <button class="btn btn-xl btn-block btn-sf2t push-10" id="podinfodetail5"></button>
                                             </div>
                                             <div class="col-xs-3 visibility-hidden" data-toggle="appear" data-class="animated fadeInLeft" data-timeout="100">
                                                 <button class="btn btn-xl btn-block btn-sf2f push-10" id="podinfodetail5f"></button>
                                             </div>
                                             <div class="col-xs-5 visibility-hidden" data-toggle="appear" data-class="animated fadeInLeft" data-timeout="100">
                                                 <button class="btn btn-xl btn-block btn-sf2 push-10" id="podinfodetailx6"></button>
                                             </div>
                                             <div class="col-xs-3 visibility-hidden" data-toggle="appear" data-class="animated fadeInLeft" data-timeout="100">
                                                 <button class="btn btn-xl btn-block btn-sf2t push-10" id="podinfodetail6"></button>
                                             </div>
                                             <div class="col-xs-3 visibility-hidden" data-toggle="appear" data-class="animated fadeInLeft" data-timeout="100">
                                                 <button class="btn btn-xl btn-block btn-sf2f push-10" id="podinfodetail6f"></button>
                                             </div>
                                             <div class="col-xs-5 visibility-hidden" data-toggle="appear" data-class="animated fadeInLeft" data-timeout="100">
                                                 <button class="btn btn-xl btn-block btn-sf2 push-10" id="podinfodetailx7"></button>
                                             </div>
                                             <div class="col-xs-3 visibility-hidden" data-toggle="appear" data-class="animated fadeInLeft" data-timeout="100">
                                                 <button class="btn btn-xl btn-block btn-sf2t push-10" id="podinfodetail7"></button>
                                             </div>
                                             <div class="col-xs-3 visibility-hidden" data-toggle="appear" data-class="animated fadeInLeft" data-timeout="100">
                                                 <button class="btn btn-xl btn-block btn-sf2f push-10" id="podinfodetail7f"></button>
                                             </div>
                                             <div class="col-xs-5 visibility-hidden" data-toggle="appear" data-class="animated fadeInLeft" data-timeout="100">
                                                 <button class="btn btn-xl btn-block btn-sf2 push-10" id="podinfodetailx8"></button>
                                             </div>
                                             <div class="col-xs-3 visibility-hidden" data-toggle="appear" data-class="animated fadeInLeft" data-timeout="100">
                                                 <button class="btn btn-xl btn-block btn-sf2t push-10" id="podinfodetail8"></button>
                                             </div>
                                             <div class="col-xs-3 visibility-hidden" data-toggle="appear" data-class="animated fadeInLeft" data-timeout="100">
                                                 <button class="btn btn-xl btn-block btn-sf2f push-10" id="podinfodetail8f"></button>
                                             </div>


                                             <div class="col-xs-10 visibility-hidden" data-toggle="appear" data-class="animated fadeInLeft" data-timeout="100">
                                                 <button class="btn btn-xl btn-block btn-sf2 push-10" id="podinfodetail11"></button>
                                             </div>
                                             <div class="col-xs-10 visibility-hidden" data-toggle="appear" data-class="animated fadeInLeft" data-timeout="100">
                                                 <button class="btn btn-xl btn-block btn-sf2 push-10" id="podinfodetail12"></button>
                                             </div>
                                             <div class="col-xs-10 visibility-hidden" data-toggle="appear" data-class="animated fadeInLeft" data-timeout="100">
                                                 <button class="btn btn-xl btn-block btn-sf2 push-10" id="podinfodetail13"></button>
                                             </div>
                                             <div class="col-xs-10 visibility-hidden" data-toggle="appear" data-class="animated fadeInLeft" data-timeout="100">
                                                 <button class="btn btn-xl btn-block btn-sf2 push-10" id="podinfodetail14"></button>
                                             </div>
                                             <div class="col-xs-10 visibility-hidden" data-toggle="appear" data-class="animated fadeInLeft" data-timeout="100">
                                                 <button class="btn btn-xl btn-block btn-sf2 push-10" id="podinfodetail15"></button>
                                             </div>


                                             <div class="col-xs-8 visibility-hidden" data-toggle="appear" data-class="animated fadeInLeft" data-timeout="100">
                                                 <div class="container" contenteditable="true">
                                                 <textarea class="btn btn-xl btn-block btn-sf3 push-10" id="areatext" rows="15" cols="90" class="button6" style="resize:none" data="pod.yaml"></textarea>
                                                </div>

                                            </div>
                                            <div class="col-xs-5 visibility-hidden" data-toggle="appear" data-class="animated fadeInLeft" data-timeout="100">
                                                <button class="btn btn-xl btn-block btn-sf push-5" id="podinfodetail10" onclick="mergecomp()">/\/\</button>

                                            </div>

                                            <div class="col-xs-8 visibility-hidden" data-toggle="appear" data-class="animated fadeInLeft" data-timeout="100">
                                                <div class="container" contenteditable="true">
                                                    <textarea class="btn btn-xl btn-block btn-sf3 push-10" id="areatext2" rows="15" cols="90" class="button6" style="resize:none" data="pod.yaml"></textarea>
                                                </div>

                                            </div>

                                         </div>
                                     </div>

                                     </div>
                                     <!-- END Animated Circles Column -->



                    <!-- Left Column -->
                    <div class="col-sm-6 col-lg-3 col-lg-pull-6">



                        <div class="block">
                            <div class="block-header overflow-hidden">
                                <h2 class="block-title visibility-hidden" data-toggle="appear" data-class="animated fadeInDown">Resources</h2>
                            </div>
                            <div class="block-content" id="myblock">
                                <div class="row items-push overflow-hidden">
                                   <button type="button" class="btn btn-xl btn-sf" onclick="selectPod(this.innerText)">Pod</button>
                                </div>
                                <div class="row items-push overflow-hidden">
                                    <button type="button" class="btn btn-xl btn-sf" onclick="selectPod(this.innerText)">Namespace</button>
                                </div>
                                <div class="row items-push overflow-hidden">
                                    <button type="button" class="btn btn-xl btn-sf" onclick="selectPod(this.innerText)">Configmap</button>
                                </div>
                                <div class="row items-push overflow-hidden">
                                    <button type="button" class="btn btn-xl btn-sf" onclick="selectPod(this.innerText)">Secret</button>
                                </div>
                            </div>
                        </div>
                        <!-- END Environment -->




                    </div>
                    <!-- END Left Column -->


                    <!-- Right Column -->
                    <div class="col-sm-6 col-lg-3">

                        <div class="block">
                            <div class="block-header overflow-hidden">
                                <h2 class="block-title visibility-hidden" data-toggle="appear" data-class="animated fadeInDown">Components</h2>
                            </div>
                            <div class="block-content" id="myblock">
                                <div class="row items-push overflow-hidden">
                                    <button type="button" class="btn btn-xl btn-sf" onclick="selectComponent(this.innerText)">Pod Components</button>
                                </div>
                                <div class="row items-push overflow-hidden">
                                    <button type="button" class="btn btn-xl btn-sf" onclick="selectComponent(this.innerText)">--LivenessProbeHttp</button>
                                </div>
                                <div class="row items-push overflow-hidden">
                                    <button type="button" class="btn btn-xl btn-sf" onclick="selectComponent(this.innerText)">--LivenessProbeCommand</button>
                                </div>
                                <div class="row items-push overflow-hidden">
                                    <button type="button" class="btn btn-xl btn-sf" onclick="selectComponent(this.innerText)">--Readynessprobe</button>
                                </div>
                                <div class="row items-push overflow-hidden">
                                    <button type="button" class="btn btn-xl btn-sf" onclick="selectComponent(this.innerText)">--Port</button>
                                </div>
                                <div class="row items-push overflow-hidden">
                                    <button type="button" class="btn btn-xl btn-sf" onclick="selectComponent(this.innerText)">--Resources</button>
                                </div>
                            </div>
                        </div>

                    </div>
                    <!-- END Right Column -->

                </div>
                <!-- END Columns -->

                <!-- Page Footer -->
                <div class="block">

                    <div class="block-content block-content-full font-s12 text-center visibility-hidden" data-toggle="appear" data-class="animated fadeIn" data-timeout="1000">
                        2019 &copy; Build by Rene Schoonrok. <a class="link-sf" href="https://github.com/reneschoonrok/">Github</a> CSS/Web layout by <a class="link-sf" href="https://pixelcave.com/">Pixelcave</a>
                    </div>
                </div>
                <!-- END Page Footer -->
            </main>
            <!-- END Main Content -->
        </div>
        <!-- END Page Container -->

        <!-- Scripts -->
        <script src="jquery.min.js"></script>
        <script src="jquery.appear.min.js"></script>
        <script src="jquery.countTo.min.js"></script>
        <script src="jquery.easypiechart.min.js"></script>
         <script src="ares.js"></script>


         <!-- Page JS Code -->
        <script>
            displayChat();
            function changenamespace(element) {
                //alert(element.options[element.selectedIndex].text)
                mynamespace =element.options[element.selectedIndex].text;
                //var lineid = document.getElementById("lineid")
                //lineid.textContent ="Connecting to namespace. Make sure your serviceaccount has rights!"
            }

            function changenamespacecustom(element) {
                //alert(element.options[element.selectedIndex].text)
                mynamespace =element.value;
            }
            var mynamespace = 'dev';
            var podinfo = [];
            var eventinfo = [];
            var ingressinfo = [];
            var pvcinfo = [];
            var deployment = [];
            var selecteditem = "";
            var selectedcomponent = "";
            var selectedtype = "";
            var myauthtoken = "empty";
            var showdeployments = "false";
            var showvolumes = "false";





            $(document).keypress(function (e) {
                if (e.which == 13) {
                    //alert('enter key is pressed');
                    //console.log('enter key is pressed');
                    addchatline();
                    chatmsg.text = '';
                }
            });

            jQuery(function(){
                // Init page helpers (Appear + CountTo + Easy Pie Chart plugins)
                Ares.initHelpers(['appear', 'appear-countTo', 'easy-pie-chart']);
            });
            //podnum.innerHTML=65




            function displayChat() {

            }

            function displayDeployments() {
                var deploymentlabel = document.getElementById("mydeploymentslabel")
                if (showdeployments == "true") {
                    showdeployments = "false";
                    mydeploymentslabel.textContent = "+ DEPLOYMENTS"
                    const myNode = document.getElementById("mydeploymentsblock");
                    while (myNode.firstChild) {
                        myNode.removeChild(myNode.firstChild);
                    }
                } else
                {
                    showdeployments = "true";
                    mydeploymentslabel.textContent = "- DEPLOYMENTS"
                }
            }

            function displayVolumes() {
                var myvolumeslabel = document.getElementById("myvolumeslabel")
                if (showvolumes == "true") {
                    showvolumes = "false";
                    myvolumeslabel.textContent = "+ VOLUMES"
                    const myNode = document.getElementById("myvolumesblock");
                    while (myNode.firstChild) {
                        myNode.removeChild(myNode.firstChild);
                    }
                } else
                {
                    showvolumes = "true";
                    myvolumeslabel.textContent = "- VOLUMES"
                }
            }





                const getResource = async file => {
                  const response = await fetch(file)
                  const text = await response.text()
                  //console.log(text)
                  areatext.value = text
                }

                 const getComponent = async file => {
                  const response = await fetch(file)
                  const text = await response.text()
                  //console.log(text)
                  areatext2.value = text
                }

             function mergecomp() {
                 var textmain = document.querySelector('textarea').value;
                 var linesmain = textmain.split('\n');
                 var textcomponent = document.querySelectorAll('textarea')[1].value;
                 var linescomponent = textcomponent.split('\n');
                 var textToFind = "#";

                 //if you want to match id- string exists at any position
                 var matches = linescomponent.filter(function(windowValue){
                     if(windowValue) {
                         return windowValue.indexOf(textToFind) < 0;
                     }
                 }); //["id-3-text", "3-id-text"]


                 var html = linesmain;
                 //console.log(html)
                 if (selectedcomponent=="--Port"){
                     var text2 = document.querySelectorAll('textarea')[1].value;
                     //console.log(text2)

                     var counter = linesmain.findIndex(element => element.includes("image:"));
                     var i = 0;
                     var newtext=[];
                     newtext.value = "";
                     while (i < counter+1) {
                         newtext.value += linesmain[i];
                         newtext.value += "\r\n";
                         i++;
                     }
                     var arrayLength = matches.length;
                     for (var j = 0; j < arrayLength; j++)
                     {
                         newtext.value +=matches[j];
                         newtext.value += "\r\n";
                     }

                     arrayLength = linesmain.length

                     while (i<arrayLength) {
                         newtext.value += linesmain[i];
                         newtext.value += "\r\n";
                         i++;
                     }
                     console.log(newtext)
                     document.querySelector('textarea').value = newtext.value;
                 }

                 if (selectedcomponent=="--LivenessProbeHttp"){
                     var text2 = document.querySelectorAll('textarea')[1].value;
                     //console.log(text2)

                     var counter = linesmain.findIndex(element => element.includes("image:"));
                     var i = 0;
                     var newtext=[];
                     newtext.value = "";
                     while (i < counter+1) {
                         newtext.value += linesmain[i];
                         newtext.value += "\r\n";
                         i++;
                     }
                     var arrayLength = matches.length;
                     for (var j = 0; j < arrayLength; j++)
                     {
                         newtext.value +=matches[j];
                         newtext.value += "\r\n";
                     }

                     arrayLength = linesmain.length

                     while (i<arrayLength) {
                         newtext.value += linesmain[i];
                         newtext.value += "\r\n";
                         i++;
                     }
                     console.log(newtext)
                     document.querySelector('textarea').value = newtext.value;
                 }

                 if (selectedcomponent=="--LivenessProbeCommand"){
                     var text2 = document.querySelectorAll('textarea')[1].value;
                     //console.log(text2)

                     var counter = linesmain.findIndex(element => element.includes("image:"));
                     var i = 0;
                     var newtext=[];
                     newtext.value = "";
                     while (i < counter+1) {
                         newtext.value += linesmain[i];
                         newtext.value += "\r\n";
                         i++;
                     }
                     var arrayLength = matches.length;
                     for (var j = 0; j < arrayLength; j++)
                     {
                         newtext.value +=matches[j];
                         newtext.value += "\r\n";
                     }

                     arrayLength = linesmain.length

                     while (i<arrayLength) {
                         newtext.value += linesmain[i];
                         newtext.value += "\r\n";
                         i++;
                     }
                     console.log(newtext)
                     document.querySelector('textarea').value = newtext.value;
                 }

            }

             function function2() {
                getComponent('livenessprobe.yaml')
            }

            function selectComponent(itemtext) {
                selectedcomponent = itemtext;

                if (selectedcomponent=="--LivenessProbeHttp")
                {
                    getComponent('livenessprobehttp.yaml')
                }

                if (selectedcomponent=="--LivenessProbeCommand")
                {
                    getComponent('livenessprobecommand.yaml')
                }

                if (selectedcomponent=="--Readynessprobe")
                {
                    getComponent('readynessprobe.yaml')
                }

                if (selectedcomponent=="--Port")
                {
                    getComponent('port.yaml')
                }

                if (selectedcomponent=="--Resources")
                {
                    getComponent('resources.yaml')
                }
            }

            function selectPod(itemtext) {
                selecteditem = itemtext;
                selectedtype = "Pod";
                if (selecteditem=="Pod")
                {
                    getResource('pod.yaml')

                    //var mypodinfodetail10 = document.getElementById("podinfodetail10")

                    //mypodinfodetail10.textContent = "Readynessprobe"

                    //var myfunction2 = document.getElementById("function2")

                   // myfunction2.textContent = "Livenessprobe"

                }




                if (selecteditem=="Namespace")
                {
                  getResource('namespace.yaml')
                }

                if (selecteditem=="Configmap")
                {
                  getResource('configmap.yaml')

                }

                 if (selecteditem=="Secret")
                {
                  getResource('secret.yaml')

                }
               // hljs.initHighlighting.called = false;
                //hljs.initHighlighting();
               // hljs.initHighlightingOnLoad();
                //0$( "textarea" ).load("pod.txt", function() {
                //    alert( "file loaded in textarea" );
                //});
                //$.getJSON("pod.txt", function(json) {
                 //   console.log(json); // this will show the info it in firebug console
                //});






            }

            //var intervalID = window.setInterval(myRefresh, 1800);

            //function myRefresh() {
            //   loadinfo();
            //}

            //var intervalID = window.setInterval(poddetails, 1900);

            //function poddetails() {
            //    loadpoddetails();
           // }

           // var intervalID = window.setInterval(logdetails, 3200);

          //  function logdetails() {
           //     loadlogdetails();
           // }

           // var intervalID = window.setInterval(eventdetails, 2000);

           // function eventdetails() {
           //     loadevents();
           // }

          //  var intervalID = window.setInterval(ingressdetails, 6000);

         //   function ingressdetails() {
         //       loadingresses();

          //  }

           // var intervalID = window.setInterval(pvcdetails, 4000);

           // function pvcdetails() {
           //     if ( showvolumes == "true") {
           //         loadpvc();
           //     }
          //  }

           // var intervalID = window.setInterval(deploymentsload, 3000);

           // function deploymentsload() {
           //     if ( showdeployments == "true")
           //     {
           //         loaddeployments();
          //      }
          //  }

        //    var intervalID = window.setInterval(getchat, 3000);

        //    function getchat() {
        //        loadchat();
        //    }

        </script>
        <script src="js/typing.js"></script>

   </body>
</html>
